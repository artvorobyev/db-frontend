<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container">
    <a class="navbar-brand" [routerLink]="['/']">Music</a>
    <ul class="navbar-nav ms-3 me-auto mb-2 mb-lg-0">
      <li class="nav-item">
        <a
          class="nav-link dropdown-toggle"
          [class.active]="isActiveUrl('albums')"
          [routerLink]="['/albums']"
          >Альбомы</a
        >
      </li>
      <li class="nav-item">
        <a
          class="nav-link dropdown-toggle"
          [class.active]="isActiveUrl('artists')"
          [routerLink]="['/artists']"
          >Артисты</a
        >
      </li>
      <li class="nav-item">
        <a
          class="nav-link dropdown-toggle"
          [class.active]="isActiveUrl('playlists')"
          [routerLink]="['/playlists']"
          >Плейлисты</a
        >
      </li>
      <li class="nav-item">
        <a
          class="nav-link dropdown-toggle"
          [class.active]="isActiveUrl('genres')"
          [routerLink]="['/genres']"
          >Жанры</a
        >
      </li>
    </ul>
    <ul class="navbar-nav ml-auto mb-2 mb-lg-0">
      <ng-container *ngIf="user; else noUser">
        <li
          ngbDropdown
          display="dynamic"
          placement="bottom-right"
          class="nav-item dropdown"
        >
          <a
            ngbDropdownToggle
            class="nav-link dropdown-toggle"
            [class.active]="isActiveUrl('cabinet') || isActiveUrl('settings')"
            data-bs-toggle="dropdown"
            href="javascript:void(0)"
            role="button"
            aria-expanded="false"
            ><i class="bi bi-person-circle icon"></i> {{ user.login }}</a
          >
          <ul ngbDropdownMenu class="dropdown-menu">
            <li>
              <a
                class="dropdown-item"
                [class.active]="isActiveUrl('cabinet')"
                [routerLink]="['/cabinet']"
                >Моя музыка</a
              >
            </li>
            <li>
              <a
                class="dropdown-item"
                [class.active]="isActiveUrl('settings')"
                [routerLink]="['/settings']"
                >Мой аккаунт</a
              >
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li>
              <a
                class="dropdown-item"
                href="javascript:void(0)"
                (click)="logout()"
                >Выйти</a
              >
            </li>
          </ul>
        </li>
      </ng-container>
      <ng-template #noUser>
        <li class="nav-item">
          <a
            class="nav-link"
            href="javascript:void(0)"
            (click)="openSignUpPopup()"
            >Зарегистрироваться</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="javascript:void(0)"
            (click)="openLoginPopup()"
            >Войти</a
          >
        </li>
      </ng-template>
    </ul>
  </div>
</nav>
